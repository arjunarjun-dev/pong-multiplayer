<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pong Multiplayer Enhanced</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      background: gray;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      font-family: Arial, sans-serif;
      user-select: none;
    }
    canvas {
      border: 4px solid black;
      background: black;
      display: block;
    }
    #status {
      color: yellow;
      margin: 10px 0;
      font-size: 18px;
      min-height: 24px;
    }
    #restartBtn {
      margin: 10px;
      padding: 8px 20px;
      font-size: 16px;
      cursor: pointer;
      display: none; /* Shown only after game starts */
    }
  </style>
</head>
<body>

  <canvas id="game" width="750" height="585"></canvas>
  <div id="status"></div>
  <button id="restartBtn">Restart Game</button>

  <!-- Sounds -->
  <audio id="leftSound" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg" preload="auto"></audio>
  <audio id="rightSound" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg" preload="auto"></audio>
  <audio id="grandEntranceSound" src="https://actions.google.com/sounds/v1/crowds/crowd_cheer.ogg" preload="auto"></audio>
<script src="/socket.io/socket.io.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const script = document.createElement('script');
    script.src = 'game.js';
    document.body.appendChild(script);
  });

  // Restart button logic
  const restartBtn = document.getElementById('restartBtn');
  restartBtn.addEventListener('click', () => {
    socket.emit('restartGame');
    restartBtn.style.display = 'none'; // hide button after restart
  });

  // Show restart button when server signals game restart available
  socket.on('showRestart', () => {
    restartBtn.style.display = 'inline-block';
  });
</script>

</body>
</html>
